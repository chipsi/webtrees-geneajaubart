Date.$VERSION=1.02;Date.LZ=function(b){return(0>b||9<b?"":"0")+b};Date.monthNames="January February March April May June July August September October November December".split(" ");Date.monthAbbreviations="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");Date.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");Date.dayAbbreviations="Sun Mon Tue Wed Thu Fri Sat".split(" ");Date.preferAmericanFormat=!0;Date.prototype.getFullYear||(Date.prototype.getFullYear=function(){var b=this.getYear();return 1900>b?b+1900:b});Date.parseString=function(F,B){if("undefined"==typeof B||null==B||""==B){for(var z=["M/d/y","M-d-y","M.d.y","M/d","M-d"],E=["d/M/y","d-M-y","d.M.y","d/M","d-M"],E=["y-M-d;MMM d, y;MMM d,y;y-MMM-d;d-MMM-y;MMM d;MMM-d;d-MMM".split(";"),Date.preferAmericanFormat?z:E,Date.preferAmericanFormat?E:z],z=0;z<E.length;z++){for(var y=E[z],v=0;v<y.length;v++){var u=Date.parseString(F,y[v]);if(null!=u){return u}}}return null}this.isInteger=function(d){for(var c=0;c<d.length;c++){if(-1=="1234567890".indexOf(d.charAt(c))){return !1}}return !0};this.getInt=function(f,g,k,j){for(;j>=k;j--){var h=f.substring(g,g+j);if(h.length<k){break}if(this.isInteger(h)){return h}}return null};F+="";B+="";for(var y=E=0,D=z="",w=(new Date).getFullYear(),x=1,C=1,A=0,s=0,o=0,i="";y<B.length;){z=B.charAt(y);for(D="";B.charAt(y)==z&&y<B.length;){D+=B.charAt(y++)}if("yyyy"==D||"yy"==D||"y"==D){"yyyy"==D&&(u=v=4);"yy"==D&&(u=v=2);"y"==D&&(v=2,u=4);w=this.getInt(F,E,v,u);if(null==w){return null}E+=w.length;2==w.length&&(w=70<w?1900+(w-0):2000+(w-0))}else{if("MMM"==D||"NNN"==D){x=0;D="MMM"==D?Date.monthNames.concat(Date.monthAbbreviations):Date.monthAbbreviations;for(z=0;z<D.length;z++){var t=D[z];if(F.substring(E,E+t.length).toLowerCase()==t.toLowerCase()){x=z%12+1;E+=t.length;break}}if(1>x||12<x){return null}}else{if("EE"==D||"E"==D){D="EE"==D?Date.dayNames:Date.dayAbbreviations;for(z=0;z<D.length;z++){if(t=D[z],F.substring(E,E+t.length).toLowerCase()==t.toLowerCase()){E+=t.length;break}}}else{if("MM"==D||"M"==D){x=this.getInt(F,E,D.length,2);if(null==x||1>x||12<x){return null}E+=x.length}else{if("dd"==D||"d"==D){C=this.getInt(F,E,D.length,2);if(null==C||1>C||31<C){return null}E+=C.length}else{if("hh"==D||"h"==D){A=this.getInt(F,E,D.length,2);if(null==A||1>A||12<A){return null}E+=A.length}else{if("HH"==D||"H"==D){A=this.getInt(F,E,D.length,2);if(null==A||0>A||23<A){return null}E+=A.length}else{if("KK"==D||"K"==D){A=this.getInt(F,E,D.length,2);if(null==A||0>A||11<A){return null}E+=A.length;A++}else{if("kk"==D||"k"==D){A=this.getInt(F,E,D.length,2);if(null==A||1>A||24<A){return null}E+=A.length;A--}else{if("mm"==D||"m"==D){s=this.getInt(F,E,D.length,2);if(null==s||0>s||59<s){return null}E+=s.length}else{if("ss"==D||"s"==D){o=this.getInt(F,E,D.length,2);if(null==o||0>o||59<o){return null}E+=o.length}else{if("a"==D){if("am"==F.substring(E,E+2).toLowerCase()){i="AM"}else{if("pm"==F.substring(E,E+2).toLowerCase()){i="PM"}else{return null}}E+=2}else{if(F.substring(E,E+D.length)!=D){return null}E+=D.length}}}}}}}}}}}}}if(E!=F.length){return null}if(2==x){if(0==w%4&&0!=w%100||0==w%400){if(29<C){return null}}else{if(28<C){return null}}}if((4==x||6==x||9==x||11==x)&&30<C){return null}12>A&&"PM"==i?A=A-0+12:11<A&&"AM"==i&&(A-=12);return new Date(w,x-1,C,A,s,o)};Date.isValid=function(b,c){return null!=Date.parseString(b,c)};Date.prototype.isBefore=function(b){return null==b?!1:this.getTime()<b.getTime()};Date.prototype.isAfter=function(b){return null==b?!1:this.getTime()>b.getTime()};Date.prototype.equals=function(b){return null==b?!1:this.getTime()==b.getTime()};Date.prototype.equalsIgnoreTime=function(b){if(null==b){return !1}var c=(new Date(this.getTime())).clearTime();b=(new Date(b.getTime())).clearTime();return c.getTime()==b.getTime()};Date.prototype.format=function(v){v+="";var r="",q=0,u="",p="",u=this.getYear()+"",p=this.getMonth()+1,i=this.getDate(),f=this.getDay(),t=this.getHours(),n=this.getMinutes(),o=this.getSeconds(),s={};4>u.length&&(u=""+(+u+1900));s.y=""+u;s.yyyy=u;s.yy=u.substring(2,4);s.M=p;s.MM=Date.LZ(p);s.MMM=Date.monthNames[p-1];s.NNN=Date.monthAbbreviations[p-1];s.d=i;s.dd=Date.LZ(i);s.E=Date.dayAbbreviations[f];s.EE=Date.dayNames[f];s.H=t;s.HH=Date.LZ(t);s.h=0==t?12:12<t?t-12:t;s.hh=Date.LZ(s.h);s.K=s.h-1;s.k=s.H+1;s.KK=Date.LZ(s.K);s.kk=Date.LZ(s.k);s.a=11<t?"PM":"AM";s.m=n;s.mm=Date.LZ(n);s.s=o;for(s.ss=Date.LZ(o);q<v.length;){u=v.charAt(q);for(p="";v.charAt(q)==u&&q<v.length;){p+=v.charAt(q++)}r="undefined"!=typeof s[p]?r+s[p]:r+p}return r};Date.prototype.getDayName=function(){return Date.dayNames[this.getDay()]};Date.prototype.getDayAbbreviation=function(){return Date.dayAbbreviations[this.getDay()]};Date.prototype.getMonthName=function(){return Date.monthNames[this.getMonth()]};Date.prototype.getMonthAbbreviation=function(){return Date.monthAbbreviations[this.getMonth()]};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.add=function(b,d){if("undefined"==typeof b||null==b||"undefined"==typeof d||null==d){return this}d=+d;if("y"==b){this.setFullYear(this.getFullYear()+d)}else{if("M"==b){this.setMonth(this.getMonth()+d)}else{if("d"==b){this.setDate(this.getDate()+d)}else{if("w"==b){for(var c=0<d?1:-1;0!=d;){for(this.add("d",c);0==this.getDay()||6==this.getDay();){this.add("d",c)}d-=c}}else{"h"==b?this.setHours(this.getHours()+d):"m"==b?this.setMinutes(this.getMinutes()+d):"s"==b&&this.setSeconds(this.getSeconds()+d)}}}}return this};function calculateJD(a){cdDate=new Date(a);year=cdDate.getYear();1000>year&&(year+=1900);month=cdDate.getMonth()+1;day=cdDate.getDate();hour=cdDate.getHours();min=cdDate.getMinutes();sec=cdDate.getSeconds();univTime=hour+min/60+sec/3600;sign=0<=100*year+month-190002.5?1:-1;with(Math){part1=367*year,part2=floor(7*(year+floor((month+9)/12))/4),part3=day+floor(275*month/9),part4=1721013.5+univTime/24,part5=0.5*sign,jd=part1-part2+part3+part4-part5+0.5}return jd};