<?php
/**
 * Javascript to include in the administration module pages to compute asynchronously Sosas
 *
 * @package webtrees
 * @subpackage Perso
 * @author: Jonathan Jaubart ($Author$)
 * @version: p_$Revision$ $Date$
 * $HeadURL$
 */

if (!defined('WT_WEBTREES')) {
	header('HTTP/1.0 403 Forbidden');
	exit;
}

global $WT_IMAGES;

?>

<script type='text/javascript'>
	//<![CDATA[			  
         function calculateSosa(ged_id){
      	   jQuery('#bt_' + ged_id).attr('disabled', 'disabled');
      	   jQuery('#btsosa_' + ged_id).empty().html('<img src="<?php echo $WT_IMAGES['loading']; ?>" alt="<?php echo htmlspecialchars(WT_I18N::translate('Loading...')); ?>" />');
      	   jQuery('#btsosa_' + ged_id).load('module.php?mod=perso_sosa&mod_action=computesosa&gid='+ged_id, 
      			function(){
      		   		jQuery('#bt_' + ged_id).removeAttr('disabled');
      	   		} 
      	   );
         }
	//]]
</script>